<html>
<div class="container" style="padding-bottom: 10px;">
    <br>
    <h3 class="title">Registration Form</h3>
    <br>
    <form [formGroup]="userForm" (ngSubmit)="register()">
    <div class="row">
      <div class="row col-sm-8">
        <div class="form-group">
            <label for="name">Name</label>
            <input type="text" class="form-control" id="name" name="name" formControlName="name" >
            <span class="help-block" *ngIf="!userForm.get('name')?.valid && userForm.get('name')?.touched">
                Please enter a valid name!
            </span>
        </div>
        <div class="form-group">
            <label for="gender">Gender</label>
            <select class="form-control" id="gender" formControlName="gender" >
              <option selected>Choose...</option>
              <option value="Male">Male</option>
              <option value="Female">Female</option>
            </select>
            <span class="help-block" *ngIf="!userForm.get('gender')?.valid && userForm.get('gender')?.touched">
                Please select one of the given options!
            </span>
        </div>
        <div class="form-group">
            <label for="country">Country</label>
            <select class="form-control" id="country" formControlName="country" >
              <option selected>Choose...</option>
              <option value="{{country.cca3}}" *ngFor="let country of countries"> {{country.name.common}} </option>
            </select>
            <span class="help-block" *ngIf="!userForm.get('country')?.valid && userForm.get('country')?.touched">
                Please select one of the given countries!
            </span>
        </div>
        <div class="form-group">
            <label for="emailId">Email</label>
            <input type="email" class="form-control" id="emailId" name="emailId" formControlName="emailId" >
            <span class="help-block" *ngIf="!userForm.get('emailId')?.valid && userForm.get('emailId')?.touched">
                Please enter valid emailId!
            </span>
        </div>
        <div class="form-group">
            <label for="phoneno">Phone Number</label>
            <input type="text" class="form-control" id="phoneno" name="phoneno" formControlName="phoneno" >
            <span class="help-block" *ngIf="!userForm.get('phoneno')?.valid && userForm.get('phoneno')?.touched">
                Please enter valid Phone Number!
            </span>
        </div>
        <div class="form-group">
            <label for="password">Password</label>
            <input type="password" class="form-control" id="password" name="password" formControlName="password">
            <span class="help-block" *ngIf="!userForm.get('password')?.valid && userForm.get('password')?.touched">
                Please enter valid Password!
            </span>
        </div>
        <div class="form-group">
            <label for="cpassword">Confirm Password</label>
            <input type="password" class="form-control" id="cpassword" name="cpassword" formControlName="cpassword">
            <span class="help-block" *ngIf="userForm.get('cpassword')?.value != userForm.get('password')?.value">
                Password Mismatch!
            </span>
        </div>
        
        <div class="form-group">
            <ngx-recaptcha2 #captchaElem
            [siteKey]="siteKey"
            formControlName="recaptcha">
            <!-- <div class="invalid-feedback" *ngIf="userForm.hasError('required', 'recaptcha')">
                Please verify Captcha!
            </div> -->
            </ngx-recaptcha2>
        </div>
        <div class="form-group">
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="acceptTerms" formControlName="cb">
                <label class="form-check-label" for="acceptTerms">
                Agree to terms and conditions
                </label>
                <div class="invalid-feedback" *ngIf="userForm.hasError('required', 'cb')">
                    Accept Ts & Cs is required!
                </div>
            </div>
        </div>
        
        <button class="btn btn-primary"  id="btn" type="submit" [disabled]="!userForm.valid" >Submit form</button>
        
      </div>
      
      </div>
  </form>
</div>
</html>
